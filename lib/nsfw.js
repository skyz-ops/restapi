const axios = require("axios"),
  fetch = require("node-fetch"),
  cheerio = require("cheerio"),
  nekosLife = require("nekos.life"),
  { nsfw: nsfw } = new nekosLife();
function randomHentaiGif() {
  return new Promise(async (t, n) => {
    try {
      const { url: n } = await nsfw.randomHentaiGif();
      t(n);
    } catch (t) {
      n(t);
    }
  });
}
function pussy() {
  return new Promise(async (t, n) => {
    try {
      const { url: n } = await nsfw.pussy();
      t(n);
    } catch (t) {
      n(t);
    }
  });
}
function nekoGif() {
  return new Promise(async (t, n) => {
    try {
      const { url: n } = await nsfw.nekoGif();
      t(n);
    } catch (t) {
      n(t);
    }
  });
}
function neko() {
  return new Promise(async (t, n) => {
    try {
      const { url: n } = await nsfw.neko();
      t(n);
    } catch (t) {
      n(t);
    }
  });
}
function lesbian() {
  return new Promise(async (t, n) => {
    try {
      const { url: n } = await nsfw.lesbian();
      t(n);
    } catch (t) {
      n(t);
    }
  });
}
function kuni() {
  return new Promise(async (t, n) => {
    try {
      const { url: n } = await nsfw.kuni();
      t(n);
    } catch (t) {
      n(t);
    }
  });
}
function cumsluts() {
  return new Promise(async (t, n) => {
    try {
      const { url: n } = await nsfw.cumsluts();
      t(n);
    } catch (t) {
      n(t);
    }
  });
}
function classic() {
  return new Promise(async (t, n) => {
    try {
      const { url: n } = await nsfw.classic();
      t(n);
    } catch (t) {
      n(t);
    }
  });
}
function boobs() {
  return new Promise(async (t, n) => {
    try {
      const { url: n } = await nsfw.boobs();
      t(n);
    } catch (t) {
      n(t);
    }
  });
}
function bJ() {
  return new Promise(async (t, n) => {
    try {
      const { url: n } = await nsfw.bJ();
      t(n);
    } catch (t) {
      n(t);
    }
  });
}
function anal() {
  return new Promise(async (t, n) => {
    try {
      const { url: n } = await nsfw.anal();
      t(n);
    } catch (t) {
      n(t);
    }
  });
}
function avatar() {
  return new Promise(async (t, n) => {
    try {
      const { url: n } = await nsfw.avatar();
      t(n);
    } catch (t) {
      n(t);
    }
  });
}
function yuri() {
  return new Promise(async (t, n) => {
    try {
      const { url: n } = await nsfw.yuri();
      t(n);
    } catch (t) {
      n(t);
    }
  });
}
function trap() {
  return new Promise(async (t, n) => {
    try {
      const { url: n } = await nsfw.trap();
      t(n);
    } catch (t) {
      n(t);
    }
  });
}
function tits() {
  return new Promise(async (t, n) => {
    try {
      const { url: n } = await nsfw.tits();
      t(n);
    } catch (t) {
      n(t);
    }
  });
}
function girlSoloGif() {
  return new Promise(async (t, n) => {
    try {
      const { url: n } = await nsfw.girlSoloGif();
      t(n);
    } catch (t) {
      n(t);
    }
  });
}
function girlSolo() {
  return new Promise(async (t, n) => {
    try {
      const { url: n } = await nsfw.girlSolo();
      t(n);
    } catch (t) {
      n(t);
    }
  });
}
function pussyWankGif() {
  return new Promise(async (t, n) => {
    try {
      const { url: n } = await nsfw.pussyWankGif();
      t(n);
    } catch (t) {
      n(t);
    }
  });
}
function pussyArt() {
  return new Promise(async (t, n) => {
    try {
      const { url: n } = await nsfw.pussyArt();
      t(n);
    } catch (t) {
      n(t);
    }
  });
}
function kemonomimi() {
  return new Promise(async (t, n) => {
    try {
      const { url: n } = await nsfw.kemonomimi();
      t(n);
    } catch (t) {
      n(t);
    }
  });
}
function kitsune() {
  return new Promise(async (t, n) => {
    try {
      const { url: n } = await nsfw.kitsune();
      t(n);
    } catch (t) {
      n(t);
    }
  });
}
function keta() {
  return new Promise(async (t, n) => {
    try {
      const { url: n } = await nsfw.keta();
      t(n);
    } catch (t) {
      n(t);
    }
  });
}
function holo() {
  return new Promise(async (t, n) => {
    try {
      const { url: n } = await nsfw.holo();
      t(n);
    } catch (t) {
      n(t);
    }
  });
}
function holoEro() {
  return new Promise(async (t, n) => {
    try {
      const { url: n } = await nsfw.holoEro();
      t(n);
    } catch (t) {
      n(t);
    }
  });
}
function hentai() {
  return new Promise(async (t, n) => {
    try {
      const { url: n } = await nsfw.hentai();
      t(n);
    } catch (t) {
      n(t);
    }
  });
}
function futanari() {
  return new Promise(async (t, n) => {
    try {
      const { url: n } = await nsfw.futanari();
      t(n);
    } catch (t) {
      n(t);
    }
  });
}
function femdom() {
  return new Promise(async (t, n) => {
    try {
      const { url: n } = await nsfw.femdom();
      t(n);
    } catch (t) {
      n(t);
    }
  });
}
function feetGif() {
  return new Promise(async (t, n) => {
    try {
      const { url: n } = await nsfw.feetGif();
      t(n);
    } catch (t) {
      n(t);
    }
  });
}
function eroFeet() {
  return new Promise(async (t, n) => {
    try {
      const { url: n } = await nsfw.eroFeet();
      t(n);
    } catch (t) {
      n(t);
    }
  });
}
function feet() {
  return new Promise(async (t, n) => {
    try {
      const { url: n } = await nsfw.feet();
      t(n);
    } catch (t) {
      n(t);
    }
  });
}
function ero() {
  return new Promise(async (t, n) => {
    try {
      const { url: n } = await nsfw.ero();
      t(n);
    } catch (t) {
      n(t);
    }
  });
}
function eroKitsune() {
  return new Promise(async (t, n) => {
    try {
      const { url: n } = await nsfw.eroKitsune();
      t(n);
    } catch (t) {
      n(t);
    }
  });
}
function eroKemonomimi() {
  return new Promise(async (t, n) => {
    try {
      const { url: n } = await nsfw.eroKemonomimi();
      t(n);
    } catch (t) {
      n(t);
    }
  });
}
function eroNeko() {
  return new Promise(async (t, n) => {
    try {
      const { url: n } = await nsfw.eroNeko();
      t(n);
    } catch (t) {
      n(t);
    }
  });
}
function eroYuri() {
  return new Promise(async (t, n) => {
    try {
      const { url: n } = await nsfw.eroYuri();
      t(n);
    } catch (t) {
      n(t);
    }
  });
}
function cumArts() {
  return new Promise(async (t, n) => {
    try {
      const { url: n } = await nsfw.cumArts();
      t(n);
    } catch (t) {
      n(t);
    }
  });
}
function blowJob() {
  return new Promise(async (t, n) => {
    try {
      const { url: n } = await nsfw.blowJob();
      t(n);
    } catch (t) {
      n(t);
    }
  });
}
function spank() {
  return new Promise(async (t, n) => {
    try {
      const { url: n } = await nsfw.spank();
      t(n);
    } catch (t) {
      n(t);
    }
  });
}
function gasm() {
  return new Promise(async (t, n) => {
    try {
      const { url: n } = await nsfw.gasm();
      t(n);
    } catch (t) {
      n(t);
    }
  });
}
async function xnxxSearch(t) {
  return new Promise((n, e) => {
    const r = "https://www.xnxx.com";
    fetch(`${r}/search/${t}/${Math.floor(3 * Math.random()) + 1}`, {
      method: "get",
    })
      .then((t) => t.text())
      .then((t) => {
        let e = cheerio.load(t, { xmlMode: !1 }),
          o = [],
          a = [],
          i = [],
          s = [];
        e("div.mozaique").each(function (t, n) {
          e(n)
            .find("div.thumb")
            .each(function (t, n) {
              a.push(
                r + e(n).find("a").attr("href").replace("/THUMBNUM/", "/")
              );
            });
        }),
          e("div.mozaique").each(function (t, n) {
            e(n)
              .find("div.thumb-under")
              .each(function (t, n) {
                i.push(e(n).find("p.metadata").text()),
                  e(n)
                    .find("a")
                    .each(function (t, n) {
                      o.push(e(n).attr("title"));
                    });
              });
          });
        for (let t = 0; t < o.length; t++)
          s.push({ title: o[t], info: i[t], link: a[t] });
        n({ status: !0, result: s });
      })
      .catch((t) => e({ status: !1, result: t }));
  });
}
function xnxxDownloader(t) {
  return new Promise((n, e) => {
    fetch(`${t}`, { method: "get" })
      .then((t) => t.text())
      .then((e) => {
        let r = cheerio.load(e, { xmlMode: !1 });
        const o = r('meta[property="og:title"]').attr("content"),
          a = r('meta[property="og:duration"]').attr("content"),
          i = r('meta[property="og:image"]').attr("content"),
          s = r('meta[property="og:video:type"]').attr("content"),
          c = r('meta[property="og:video:width"]').attr("content"),
          u = r('meta[property="og:video:height"]').attr("content"),
          f = r("span.metadata").text().trim(),
          l = r("#video-player-bg > script:nth-child(6)").html(),
          m = {
            low: (l.match("html5player.setVideoUrlLow\\('(.*?)'\\);") || [])[1],
            high: l.match("html5player.setVideoUrlHigh\\('(.*?)'\\);")[1],
            HLS: l.match("html5player.setVideoHLS\\('(.*?)'\\);")[1],
            thumb: l.match("html5player.setThumbUrl\\('(.*?)'\\);")[1],
            thumb69: l.match("html5player.setThumbUrl169\\('(.*?)'\\);")[1],
            thumbSlide: l.match("html5player.setThumbSlide\\('(.*?)'\\);")[1],
            thumbSlideBig: l.match(
              "html5player.setThumbSlideBig\\('(.*?)'\\);"
            )[1],
          };
        n({
          status: !0,
          title: o,
          URL: t,
          duration: a,
          image: i,
          videoType: s,
          videoWidth: c,
          videoHeight: u,
          info: f,
          files: m,
        });
      })
      .catch((t) => e({ status: !1, result: t }));
  });
}
async function randomnekopoi() {
  return new Promise(function (t, n) {
    axios.get("http://nekopoi.care").then((e) => {
      const r = [],
        o = [],
        a = [],
        i = cheerio.load(e.data);
      if (
        (i("div.eropost").each(function (t, n) {
          i(n)
            .find("h2")
            .each(function (t, n) {
              r.push(i(n).find("a").text().trim()),
                o.push(i(n).find("a").attr("href"));
            }),
            a.push(i(n).find("img").attr("src"));
        }),
        null == {})
      )
        n("No Result:(");
      else {
        let n = Math.floor(Math.random() * r.length),
          e = { title: r[n], image: a[n], link: o[n] };
        t(e);
      }
    });
  });
}
async function nekopoidl(t) {
  return new Promise(function (n, e) {
    axios.get(t).then((t) => {
      try {
        const e = [];
        let r = cheerio.load(t.data),
          o = r("title").text();
        r("div.liner").each(function (t, n) {
          r(n)
            .find("div.listlink")
            .each(function (t, n) {
              r(n)
                .find("a")
                .each(function (t, n) {
                  e.push(r(n).attr("href"));
                });
            });
        });
        n({ title: o, links: e });
      } catch (t) {
        e("Error : " + t);
      }
    });
  });
}
module.exports = {
  randomHentaiGif: randomHentaiGif,
  pussy: pussy,
  nekoGif: nekoGif,
  neko: neko,
  lesbian: lesbian,
  kuni: kuni,
  cumsluts: cumsluts,
  classic: classic,
  boobs: boobs,
  bJ: bJ,
  anal: anal,
  avatar: avatar,
  yuri: yuri,
  trap: trap,
  tits: tits,
  girlSoloGif: girlSoloGif,
  girlSolo: girlSolo,
  pussyWankGif: pussyWankGif,
  pussyArt: pussyArt,
  kemonomimi: kemonomimi,
  kitsune: kitsune,
  keta: keta,
  holo: holo,
  holoEro: holoEro,
  hentai: hentai,
  futanari: futanari,
  femdom: femdom,
  feetGif: feetGif,
  eroFeet: eroFeet,
  feet: feet,
  ero: ero,
  eroKitsune: eroKitsune,
  eroKemonomimi: eroKemonomimi,
  eroNeko: eroNeko,
  eroYuri: eroYuri,
  cumArts: cumArts,
  blowJob: blowJob,
  spank: spank,
  gasm: gasm,
  xnxxSearch: xnxxSearch,
  xnxxDownloader: xnxxDownloader,
  randomnekopoi: randomnekopoi,
  nekopoidl: nekopoidl,
};
