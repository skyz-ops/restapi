/*! Idle Timer v1.1.0 2016-03-21 | https://github.com/thorst/jquery-idletimer | (c) 2016 Paul Irish | Licensed MIT */
!function(e){e.idleTimer=function(i,t){var n;"object"==typeof i?(n=i,i=null):"number"==typeof i&&(n={timeout:i},i=null),t=t||document,n=e.extend({idle:!1,timeout:3e4,events:"mousemove keydown wheel DOMMouseScroll mousewheel mousedown touchstart touchmove MSPointerDown MSPointerMove"},n);var r=e(t),a=r.data("idleTimerObj")||{},l=function(i){var n=e.data(t,"idleTimerObj")||{};n.idle=!n.idle,n.olddate=+new Date;var r=e.Event((n.idle?"idle":"active")+".idleTimer");e(t).trigger(r,[t,e.extend({},n),i])},d=function(i){var n=e.data(t,"idleTimerObj")||{};if(("storage"!==i.type||i.originalEvent.key===n.timerSyncId)&&null==n.remaining){if("mousemove"===i.type){if(i.pageX===n.pageX&&i.pageY===n.pageY)return;if(void 0===i.pageX&&void 0===i.pageY)return;if(200>+new Date-n.olddate)return}clearTimeout(n.tId),n.idle&&l(i),n.lastActive=+new Date,n.pageX=i.pageX,n.pageY=i.pageY,"storage"!==i.type&&n.timerSyncId&&"undefined"!=typeof localStorage&&localStorage.setItem(n.timerSyncId,n.lastActive),n.tId=setTimeout(l,n.timeout)}},u=function(){var i=e.data(t,"idleTimerObj")||{};i.idle=i.idleBackup,i.olddate=+new Date,i.lastActive=i.olddate,i.remaining=null,clearTimeout(i.tId),i.idle||(i.tId=setTimeout(l,i.timeout))};if(null===i&&void 0!==a.idle)return u(),r;if(null===i);else{if(null!==i&&void 0===a.idle)return!1;if("destroy"===i)return function(){var i=e.data(t,"idleTimerObj")||{};clearTimeout(i.tId),r.removeData("idleTimerObj"),r.off("._idleTimer")}(),r;if("pause"===i)return function(){var i=e.data(t,"idleTimerObj")||{};null==i.remaining&&(i.remaining=i.timeout-(+new Date-i.olddate),clearTimeout(i.tId))}(),r;if("resume"===i)return function(){var i=e.data(t,"idleTimerObj")||{};null!=i.remaining&&(i.idle||(i.tId=setTimeout(l,i.remaining)),i.remaining=null)}(),r;if("reset"===i)return u(),r;if("getRemainingTime"===i)return function(){var i=e.data(t,"idleTimerObj")||{};if(i.idle)return 0;if(null!=i.remaining)return i.remaining;var n=i.timeout-(+new Date-i.lastActive);return 0>n&&(n=0),n}();if("getElapsedTime"===i)return+new Date-a.olddate;if("getLastActiveTime"===i)return a.lastActive;if("isIdle"===i)return a.idle}return r.on(e.trim((n.events+" ").split(" ").join("._idleTimer ")),(function(e){d(e)})),n.timerSyncId&&e(window).bind("storage",d),(a=e.extend({},{olddate:+new Date,lastActive:+new Date,idle:n.idle,idleBackup:n.idle,timeout:n.timeout,remaining:null,timerSyncId:n.timerSyncId,tId:null,pageX:null,pageY:null})).idle||(a.tId=setTimeout(l,a.timeout)),e.data(t,"idleTimerObj",a),r},e.fn.idleTimer=function(i){return this[0]?e.idleTimer(i,this[0]):this}}(jQuery);